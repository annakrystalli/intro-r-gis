---
title: "Untitled"
author: "Anna Krystalli"
date: "26/06/2018"
output: html_document
---


# intro

# spatial data

- raster
- vector
    - points
    - polygons
    - lines

# spatial data in R

## vector previous 

## vector moving to `sf`

- `GDAL` based on `GeoJSON`
    -  faster
- reads in as `data.frame`
    - geometry a list in `geometry` column.
    - fits in with tidyverse workflows
    
    
# Files (Vignette 2)
print extensions
- shp
- netCDF
- GeoJSON

- KML
- even zipped shapefiles!




# reading spatial data

## drivers
- drivers sf
- drivers raster

## vector data `sf`

package [reference](https://r-spatial.github.io/sf/reference/index.html)

```{r}
library(sf)
library(tidyverse)
nc <- read_sf(system.file("shape/nc.shp", package = "sf")) 
```


```{r}
nc
```


```{r}
plot(st_geometry(nc), col = sf.colors(12, categorical = TRUE), border = 'grey', 
     axes = TRUE)
```

## data frame



```{r}
summary(nc) 
```

```{r}
head(nc)
```


## `geometry`

### pull out `geometry` info
```{r}
st_geometry(nc)
```


### Pull out coordinates
```{r}
st_coordinates(nc)  %>% head()
```


# spatial summaries and statistics

### get centroids

```{r}
st_centroid(nc) %>% select(geometry)
```

```{r}
plot(st_geometry(nc), col = sf.colors(12, categorical = TRUE), border = 'grey', 
     axes = TRUE)
plot(st_geometry(st_centroid(nc)), pch = 3, col = 'red', add = TRUE)
```

# munging spatial data

## projections


![](assets/CRS.png)





# Resources

- `sf` vignettes